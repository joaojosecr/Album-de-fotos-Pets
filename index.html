<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meu Pet</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    <script src="app.js"></script>
    <script src="https://api.mapbox.com/mapbox-gl-js/v2.14.1/mapbox-gl.js"></script>
    <link href='https://api.mapbox.com/mapbox-gl-js/v2.14.1/mapbox-gl.css' rel='stylesheet' />
</head>
<body class="bg-light" onload="exibePets()" >
    <!-- Navegação -->
    <header>
        <nav class="navbar navbar-expand-lg bg-primary ">
            <div class="container">
                <a class="navbar-brand " href="index.html"><img src="img/logo.png" width="110px"></a>
                    <!-- <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button> -->
                <!-- <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav">
                        <li class="nav-item">
                            <a class="nav-link active" aria-current="page" href="#">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="index2.html">Features</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">Pricing</a>
                        </li>
                    </ul>
                </div> -->
            </div>
        </nav>
    </header>
    <!-- Main -->
    <main class="container py-2">
        <!-- Destaques -->
        <p class="text-dark border-bottom border-primary border-4 h2">Destaques</p>
        <div class="row py-2">
            <div id="carouselExampleIndicators" class="carousel slide col-12">
                <div class="carousel-indicators">
                  <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
                  <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1" aria-label="Slide 2"></button>
                  <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2" aria-label="Slide 3"></button>
                </div>
                <div class="carousel-inner">
                  <div class="carousel-item active">
                    <img src="img/pets/carrossel/3.png" class="d-block w-100" alt="...">
                  </div>
                  <div class="carousel-item">
                    <img src="img/pets/carrossel/2.png" class="d-block w-100" alt="...">
                  </div>
                  <div class="carousel-item">
                    <img src="img/pets/carrossel/1.png" class="d-block w-100" alt="...">
                  </div>
                </div>
                <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
                  <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                  <span class="visually-hidden">Previous</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
                  <span class="carousel-control-next-icon" aria-hidden="true"></span>
                  <span class="visually-hidden">Next</span>
                </button>
              </div>
        </div>
        
        <!-- Mapa -->
        <p class="text-dark border-bottom border-primary border-4 h2">Mapa</p>
        <div class="row py-2"  style="height: 300px;">
            <div id="map"></div>
        </div>

        <!-- Lista de Albuns -->
        <!-- Cards -->
        <div class="container" >
            <div class="row py-2" id="pets-container">
            </div>
        </div>



    </main>


  
    <footer class="section footer-classic context-dark bg-image" style="background: #2d3246; color: white;">
        <div class="container">
          <div class="row row-30">
            <div class="col-md-7 ">
              <div class="pr-xl-4"><a class="brand" href="index.html"></a>
                <h4>Sobre</h4>
                <p>Site criado com a intenção de mostrar exemplos das melhores companhias que um humano pode ter.</p>
                <!-- Rights-->
                <p class="rights"><span>©  </span><span class="copyright-year">2023</span><span> </p>
              </div>
            </div>
            <div class="col-md-1">
                <img alt="..." src="img/foto.png" style="border-radius: 50%; height: 140px; margin: auto auto; padding-top: 15px; ">
                
            </div>
            <div class="col-md-4">
              <h5>Autoria</h5>
              <dl class="contact-list">
                <dt>Aluno:</dt>
                <dd>João José Cardoso Ribeiro</dd>
              </dl>
              <dl class="contact-list">
                <dt>Curso:</dt>
                <dd>Sistemas de Informação - Manhã</dd>
              </dl>
              <div class="row" style="display: inline; align-items: center;">
                <a href="https://www.linkedin.com/in/jo%C3%A3o-jos%C3%A9-cardoso-ribeiro-26200120a/" target="_blank" style="padding-right: 5px ;"><img src="img/linkedin.webp" width="25px"></a>
                <a href="https://www.instagram.com/joaojosecr/" target="_blank" style="padding-right: 5px ;"><img src="img/instagram.webp" width="25px"></a>
                <a href="https://api.whatsapp.com/send/?phone=%2B5531982155008&text&type=phone_number&app_absent=0" target="_blank" style="padding-right: 5px ;"><img src="img/wpp.webp" width="25px"></a>
            </div>
            </div>
            
          </div>
        </div>
       
    </footer>
    
    <script>
        const centralLatLong= [-43.9397233,-19.9332786]
        mapboxgl.accessToken = 'pk.eyJ1Ijoiam9hb2pvc2VjciIsImEiOiJjbHBtdWFlN3QwZGdvMnF1aGo1dzJtdHJhIn0.AIfELyfSUPcP-S2sRaHBXw';
        const map = new mapboxgl.Map({
            container: 'map',
            style: 'mapbox://styles/mapbox/streets-v12',
            center: centralLatLong,
            zoom: 5
        });

        function processarGeo (local) {
          let popup = new mapboxgl.Popup({ offset: 25 })
              .setHTML(`<h3> Estou aqui!!! </h3>`);
              console.log([local.coords.longitude, local.coords.latitude])
          const marker = new mapboxgl.Marker({ color: 'yellow' })
              .setLngLat([local.coords.longitude, local.coords.latitude])
              .setPopup(popup)
              .addTo(map);  
        }
        

        fetch('db.json')
            .then(response => response.json())
            .then(db => {
                db.pets.forEach(album => {
                    let popup = new mapboxgl.Popup({ offset: 25 })
                    .setHTML(`<h3> Estou aqui!!! </h3>`);
                        console.log(album.latlong)
                    const marker = new mapboxgl.Marker({ color: 'red' })
                        .setLngLat(album.latlong)
                        .setPopup(popup)
                        .addTo(map);  
                    
                });
            })
            .catch(error => console.error('Erro ao carregar dados:', error));
        
        navigator.geolocation.getCurrentPosition (processarGeo, () => { alert ('Erro ao obter localização.') })
      
    </script>

    <!-- <script>
        // ----------------------------------------------
        // Cria uma estrutura de dados com informações das unidades da PUC Minas 
        let unidadesPUC = [
            {
                id: 1,
                descricao: 'PUC Minas - Coração Eucarístico',
                endereco: 'Rua Dom José Gaspar, 500',
                cidade: 'Belo Horizonte',
                latlong: [-43.992911,-19.923564],
                url: 'https://www.pucminas.br',
                img: 'https://www.pucminas.br/unidade/praca-da-liberdade/Paginas/default.aspx',
                cor: 'red'
            },
            {
                id: 2,
                descricao: 'PUC Minas - Praça da Liberdade',
                endereco: 'Av. Brasil, 2023 - Funcionários',
                cidade: 'Belo Horizonte',
                latlong: [-43.9397233,-19.9332786],
                url: 'https://www.pucminas.br/unidade/praca-da-liberdade/Paginas/default.aspx',
                cor: 'red'
            },
            {
                id: 3,
                descricao: 'PUC Minas - Barreiro',
                endereco: 'Avenida Afonso Vaz de Melo, 1.200 - Barreiro',
                cidade: 'Belo Horizonte',
                latlong: [-44.025818,-19.976609],
                url: 'https://www.pucminas.br/unidade/barreiro/Paginas/default.aspx',
                cor: 'red'
            },
            {
                id: 4,
                descricao: 'PUC Minas - São Gabriel',
                endereco: 'Rua Walter Ianni, 255 - São Gabriel',
                cidade: 'Belo Horizonte',
                latlong: [-43.917967,-19.859226],
                url: 'https://www.pucminas.br/unidade/sao-gabriel/Paginas/default.aspx',
                cor: 'red'
            },
            {
                id: 5,
                descricao: 'PUC Minas - Contagem',
                endereco: 'R. Rio Comprido, 4.580',
                cidade: 'Contagem',
                latlong: [-44.076069,-19.939135],
                url: 'https://www.pucminas.br/unidade/contagem/Paginas/default.aspx',
                cor: 'blue' 
            },
            {
                id: 6,
                descricao: 'PUC Minas - Betim',
                endereco: 'R. do Rosário, 1.081 Bairro Angola',
                cidade: 'Betim',
                latlong: [-44.1984331,-19.9550716],
                url: 'https://www.pucminas.br/unidade/betim/Paginas/default.aspx',
                cor: 'blue'    
            },
            {
                id: 7,
                descricao: 'PUC Minas - Poços de Caldas',
                endereco: 'Av. Pe. Cletus Francis Cox, 1.661',
                cidade: 'Poços de Caldas',
                latlong: [-46.5944649,-21.78904],
                url: 'https://www.pucpcaldas.br/',
                cor: 'green'    
            }
        ]

        // --------------------------------------------------
        // Cria o mapa baseado na API Mapbox e adiciona no 
        // elemento de id: map        
        // --------------------------------------------------

        // ----------------------------------------------
        // Cria o mapa e adiciona no elemento de id: map 
        const centralLatLong= [-43.9397233,-19.9332786]

        // ----------------------------------------------
        // IMPORTANTE: Crie uma conta no Mapbox e adicione  
        // sua accessToken na linha abaixo
        mapboxgl.accessToken = 'pk.eyJ1Ijoiam9hb2pvc2VjciIsImEiOiJjbHBtdWFlN3QwZGdvMnF1aGo1dzJtdHJhIn0.AIfELyfSUPcP-S2sRaHBXw';
        const map = new mapboxgl.Map({
            container: 'map',
            style: 'mapbox://styles/mapbox/streets-v12',
            center: centralLatLong,
            zoom: 5
        });


        // ----------------------------------------------
        // Adiciona marcadores para unidades da PUC Minas
        unidadesPUC.forEach ((uni) => {
            let popup = new mapboxgl.Popup({ offset: 25 })
                .setHTML(`<h3><a href="${uni.url}" target="_blank">${uni.descricao}</a></h3><br>
                          ${uni.endereco} <br> ${uni.cidade}`);
            const marker = new mapboxgl.Marker({ color: uni.cor })
                .setLngLat(uni.latlong)
                .setPopup(popup)
                .addTo(map);     
        }) 


        // ----------------------------------------------
        // Adiciona um marcador com nossa posição no mapa
        function processarGeo (local) {
          let popup = new mapboxgl.Popup({ offset: 25 })
              .setHTML(`<h3> Estou aqui!!! </h3>`);
              console.log([local.coords.longitude, local.coords.latitude])
          const marker = new mapboxgl.Marker({ color: 'yellow' })
              .setLngLat([local.coords.longitude, local.coords.latitude])
              .setPopup(popup)
              .addTo(map);  
        }

        navigator.geolocation.getCurrentPosition (processarGeo, () => { alert ('Erro ao obter localização.') })
      
    </script> -->


</body>
</html>